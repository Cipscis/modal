(()=>{"use strict";class e extends Array{constructor(e){if("string"!=typeof e)throw new RangeError("KeyBind: Constructor argument must be a string");super(0);const t=e.trim().split(/\s+/g);for(const e of t)this.push(e)}toString(){return this.join(" ")}match(e){if(e.length!==this.length)return!1;for(const[t,n]of e.entries()){const e=this[t];if(!n.match(e))return!1}return!0}}const t=Object.freeze({alt:/\balt\+/g,ctrl:/\b(control|ctrl|command|cmd|meta)\+/g,shift:/\bshift\+/g}),n=new Map([["space"," "],["spacebar"," "],["up","arrowup"],["right","arrowright"],["down","arrowdown"],["left","arrowleft"],["esc","escape"]]);class o{key;modifiers;constructor(e){if(!("key"in e))throw new RangeError("KeyPress: key is a required option");this.key=e.key,this.modifiers={altKey:e.altKey||!1,ctrlKey:e.metaKey||e.ctrlKey||!1,shiftKey:e.shiftKey||!1}}match(e){const o={altKey:!1,ctrlKey:!1,shiftKey:!1};let r;for(r in t.alt.test(e)&&(o.altKey=!0,e=e.replace(t.alt,"")),t.ctrl.test(e)&&(o.ctrlKey=!0,e=e.replace(t.ctrl,"")),t.shift.test(e)&&(o.shiftKey=!0,e=e.replace(t.shift,"")),o)if(o[r]&&!this.modifiers[r])return!1;return e.toLowerCase()===this.key.toLowerCase()||n.get(e.toLowerCase())===this.key.toLowerCase()}}const r=new Map,s=Object.freeze({allowInInput:!1}),c=(t,n,r)=>{const c=Object.assign({},s,r),i=new e(t),f=[];return function(e,...t){if(["Alt","Control","Meta","Shift"].includes(e.key))return;if(!c.allowInInput&&l(document.activeElement))return;if(a(document.activeElement))return;const r=new o(e);f.push(r),f.length>i.length&&f.shift(),i.match(f)&&(f.splice(0),n.apply(this,[e,...t]))}},i=(e,t,n)=>{r.has(e)||r.set(e,new Map);const o=r.get(e);if(o.has(t))return;const s=c(e,t,n);document.addEventListener("keydown",s),o.set(t,s)},l=function(e){let t=!1;if(e instanceof HTMLElement)if(e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)t=!0;else if(e instanceof HTMLInputElement){t=!0;const n=(e.type||"text").toLowerCase();["button","checkbox","color","file","hidden","image","radio","range","reset","submit"].includes(n)&&(t=!1)}else e.isContentEditable&&(t=!0);return t},a=function(e){let t=!1;return e instanceof HTMLInputElement&&"password"===(e.type||"text").toLowerCase()&&(t=!0),t};function f(e){let t=!1;return(e instanceof HTMLElement||e instanceof SVGElement)&&(e instanceof HTMLElement&&(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement||e instanceof HTMLButtonElement?!1===e.disabled&&(t=!0):e instanceof HTMLObjectElement?e.matches("[disabled]")&&!e.matches('[disabled="false"]')&&(t=!0):e instanceof HTMLAnchorElement||e instanceof HTMLAreaElement?e.matches("[href]")&&(t=!0):"true"===e.contentEditable&&(t=!0)),e.matches("[tabindex]")&&(t=!0)),t&&(function(e){let t=!0;const n=window.getComputedStyle(e);if(e instanceof HTMLElement&&"fixed"!==n.position&&!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement))null===e.offsetParent&&(t=!1);else{const o=n.visibility;if("none"===n.display)t=!1;else if("hidden"===o)t=!1;else for(let n=e.parentElement;n;n=e.parentElement)if("none"===window.getComputedStyle(e).display){t=!1;break}}return t}(e)||(t=!1)),t}function u(e){let t=!1;return f(e)&&(t=!(-1===e.tabIndex)),t}const d=Object.freeze({trap:"js-focus-trap"}),m=Object.freeze({trap:`.${d.trap}`});let h=null;const y=document.createElement("div");y.setAttribute("tabindex","0");const p=document.createElement("div");function E(){h&&(document.querySelectorAll("*").forEach((e=>e.removeEventListener("focus",g))),h.classList.remove(d.trap),h=null,y.remove(),p.remove())}function g(e){const t=e.target;if(t instanceof HTMLElement&&h&&!t.closest(m.trap)){const e=h.querySelectorAll("*"),n=Array.prototype.filter.call(e,u);h.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_FOLLOWING?n[0].focus():n[n.length-1].focus()}}p.setAttribute("tabindex","0");const b={modal:".js-modal",body:".js-modal__body",trigger:".js-modal__trigger",close:".js-modal__close"},L=Object.freeze({bodyOpenClass:"data-modal-body-open-class"}),w=Object.freeze({bodyOpen:"modal__body-open"});let M=null,v=null,H=null,T=null;function S(e){const t=e.target;if(t instanceof HTMLElement){if(t.closest(b.body))return;if(t.closest(b.trigger))return;O()}}function A(e){const t=document.getElementById(e);t&&function(e){if(e===v)return;v&&O(),M=document.activeElement,v=e,e.setAttribute("aria-hidden","false");const t=j(e);document.querySelector("body").classList.add(t);const n=function(e=v){const t=e.querySelector(b.body);if(t instanceof HTMLElement){const e=t.querySelectorAll("*"),n=Array.prototype.filter.call(e,f);return f(t)&&n.unshift(t),n}throw new Error("Modal: Could not find body element on active modal.")}();n&&n.length&&n[0].focus(),function(){i("esc",O,{allowInInput:!0}),document.addEventListener("click",k),document.addEventListener("click",S);const e=v.querySelector(b.body);if(!(e instanceof HTMLElement))throw new Error("Modal: Could not find body element on active modal.");!function(e){E(),h=e,h.classList.add(d.trap);let t=h.parentNode;if(!t)throw new Error("Modal: Focus trap element has no parentNode");t.insertBefore(y,h),t.insertBefore(p,h.nextSibling),document.querySelectorAll("*").forEach((e=>e.addEventListener("focus",g)))}(e)}(),H&&H(e)}(t)}function k(e){const t=e.target;t instanceof HTMLElement&&t.closest(b.close)&&(e.preventDefault(),O())}function O(){if(v){const e=v;e.setAttribute("aria-hidden","true");const t=j(e);document.querySelector("body").classList.remove(t),((e,t)=>{const n=r.get("esc");if(!n)return;const o=n.get(t);o&&(document.removeEventListener("keydown",o),n.delete(t))})(0,O),document.removeEventListener("click",k),document.removeEventListener("click",S),E(),M&&M instanceof HTMLElement&&M.focus(),v=null,M=null,T&&T(e)}}function j(e){return e.getAttribute(L.bodyOpenClass)||w.bodyOpen}function C(){return O()}var x;(x=(x={onShow:e=>console.log("Show",e),onHide:e=>console.log("Hide",e)})??{}).onShow&&(H=x.onShow),x.onHide&&(T=x.onHide),x.triggerSelector&&(b.trigger=x.triggerSelector),document.addEventListener("click",(function(e){const t=e.target;if(t instanceof HTMLElement){const n=t.closest(b.trigger);if(n instanceof HTMLElement){e.preventDefault();const t=function(e){let t=e.getAttribute("href");return t=t&&!0===/^#/.test(t)?t.substring(1):e.getAttribute("aria-controls"),t}(n);t&&A(t)}}}));const K=Object.freeze({show:".js-example__show",hide:".js-example__hide"}),I=e=>{e.stopPropagation(),A("modal-show-example")};document.querySelectorAll(K.show).forEach((e=>e.addEventListener("click",I))),i("B",I),i("B",I),document.querySelectorAll(K.hide).forEach((e=>e.addEventListener("click",C)))})();
//# sourceMappingURL=docs-script.bundle.js.map